<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ­Ø¯ÙŠ</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f7f7f7;
      text-align: center;
      padding: 20px;
    }
    .quiz-container, .stats-container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      display: none;
    }
    .welcome-screen {
      max-width: 500px;
      margin: auto;
      background: #e0f2fe;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #3b82f6;
    }
    .question {
      font-size: 20px;
      margin-bottom: 20px;
    }
    .answers button, .start-btn, #reset-btn, .show-stats-btn, .category-btn {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #3b82f6;
      color: white;
      cursor: pointer;
    }
    .answers button:hover, .start-btn:hover, #reset-btn:hover, .show-stats-btn:hover, .category-btn:hover {
      background-color: #2563eb;
    }
    #result, #timer, #final-level {
      margin-top: 20px;
      font-weight: bold;
    }
    .icon {
      width: 100px;
      margin: 10px auto;
    }
    .input-group {
      margin-top: 10px;
    }
    .input-group input {
      padding: 10px;
      width: 90%;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <div class="welcome-screen" id="welcome">
    <img class="icon" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="quiz icon">
    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª!</h1>
    <p>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ù„Ø¹Ø¨ ÙÙŠÙ‡ØŒ Ø«Ù… Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ø¨Ø¯Ø¡:</p>
    <div id="category-selection">
      <button class="category-btn" onclick="selectCategory('Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©')">Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©</button>
      <button class="category-btn" onclick="selectCategory('Ø¹Ù„ÙˆÙ…')">Ø¹Ù„ÙˆÙ…</button>
      <button class="category-btn" onclick="selectCategory('Ø±ÙŠØ§Ø¶Ø©')">Ø±ÙŠØ§Ø¶Ø©</button>
    </div>
    <div class="input-group">
      <input type="text" id="username" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
    </div>
    <div class="input-group">
      <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
    </div>
    <div class="input-group">
      <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
    </div>
    <button class="start-btn" onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
  </div>

  <div class="quiz-container" id="quiz">
    <h1>ğŸŒŸ ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ğŸŒŸ</h1>
    <div id="userDisplay"></div>
    <div id="level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: 1</div>
    <div id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
    <div id="category">Ø§Ù„ÙØ¦Ø©: Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©</div>
    <div class="question" id="question">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...</div>
    <div class="answers" id="answers"></div>
    <div id="timer">Ø§Ù„ÙˆÙ‚Øª: 15 Ø«Ø§Ù†ÙŠØ©</div>
    <div id="result"></div>
    <div id="final-level"></div>
    <button class="show-stats-btn" onclick="showStats()">ğŸ“Š Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
    <button id="reset-btn" onclick="resetGame()">ğŸ” Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
  </div>

  <div class="stats-container" id="stats">
    <h2>ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨</h2>
    <p id="stat-username"></p>
    <p id="stat-email"></p>
    <p id="stat-phone"></p>
    <p id="stat-score"></p>
    <p id="stat-level"></p>
    <p id="stat-max"></p>
    <button onclick="goBack()">ğŸ”™ Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¹Ø¨Ø©</button>
  </div>

  <script>
    const questionSets = {
      'Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©': [
        {
          question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ù…ØµØ±ØŸ",
          answers: ["Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©", "Ø§Ù„Ø£Ù‚ØµØ±", "Ø£Ø³ÙˆØ§Ù†"],
          correct: 0
        },
        {
          question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
          answers: ["5", "6", "7", "8"],
          correct: 2
        }
      ],
      'Ø¹Ù„ÙˆÙ…': [
        {
          question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ù‚Ø±Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù…Ø³ØŸ",
          answers: ["Ø§Ù„Ø£Ø±Ø¶", "Ø§Ù„Ø²Ù‡Ø±Ø©", "Ø¹Ø·Ø§Ø±Ø¯", "Ø§Ù„Ù…Ø±ÙŠØ®"],
          correct: 2
        },
        {
          question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ HØŸ",
          answers: ["Ø§Ù„Ù‡ÙŠÙ„ÙŠÙˆÙ…", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ø­Ø¯ÙŠØ¯"],
          correct: 1
        }
      ],
      'Ø±ÙŠØ§Ø¶Ø©': [
        {
          question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ ÙØ±ÙŠÙ‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ",
          answers: ["9", "10", "11", "12"],
          correct: 2
        },
        {
          question: "Ø£ÙŠÙ† Ø£Ù‚ÙŠÙ…Øª Ø£ÙˆÙ„Ù…Ø¨ÙŠØ§Ø¯ 2020ØŸ",
          answers: ["Ø±ÙŠÙˆ Ø¯ÙŠ Ø¬Ø§Ù†ÙŠØ±Ùˆ", "Ù„Ù†Ø¯Ù†", "Ø¨Ø§Ø±ÙŠØ³", "Ø·ÙˆÙƒÙŠÙˆ"],
          correct: 3
        }
      ]
    };

    let username = localStorage.getItem('username') || "Ù„Ø§Ø¹Ø¨";
    let email = localStorage.getItem('email') || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
    let phone = localStorage.getItem('phone') || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
    let currentLevel = parseInt(localStorage.getItem('level')) || 1;
    let score = parseInt(localStorage.getItem('score')) || 0;
    let maxLevel = parseInt(localStorage.getItem('maxLevel')) || currentLevel;
    let selectedCategory = localStorage.getItem('category') || 'Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©';
    let currentQuestions = questionSets[selectedCategory];
    let currentQuestion = 0;

    function selectCategory(cat) {
      selectedCategory = cat;
      localStorage.setItem('category', cat);
    }

    function startGame() {
      const inputName = document.getElementById("username").value;
      const inputEmail = document.getElementById("email").value;
      const inputPhone = document.getElementById("phone").value;

      if (inputName) {
        username = inputName;
        localStorage.setItem('username', username);
      }
      if (inputEmail) {
        email = inputEmail;
        localStorage.setItem('email', email);
      }
      if (inputPhone) {
        phone = inputPhone;
        localStorage.setItem('phone', phone);
      }

      document.getElementById("userDisplay").textContent = `ğŸ‘¤ Ø§Ù„Ù„Ø§Ø¹Ø¨: ${username}`;
      document.getElementById("welcome").style.display = "none";
      document.getElementById("quiz").style.display = "block";
      currentQuestions = questionSets[selectedCategory];
      document.getElementById("level").textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${currentLevel}`;
      document.getElementById("score").textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
      document.getElementById("final-level").textContent = `Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ÙˆØµÙ„Øª Ù„Ù‡: ${maxLevel}`;
      document.getElementById("category").textContent = `Ø§Ù„ÙØ¦Ø©: ${selectedCategory}`;
      showQuestion();
    }

    function showQuestion() {
      if (currentQuestion >= currentQuestions.length) {
        currentQuestion = 0;
        currentLevel++;
        maxLevel = Math.max(maxLevel, currentLevel);
        localStorage.setItem('level', currentLevel);
        localStorage.setItem('maxLevel', maxLevel);
        alert("ØªÙ… Ø§Ø¬ØªÙŠØ§Ø² Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰! Ø³ÙŠØªÙ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ù†ÙØ³ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù…Ø¤Ù‚ØªØ§Ù‹.");
      }
      const q = currentQuestions[currentQuestion];
      document.getElementById("question").textContent = q.question;
      const answersHtml = q.answers.map((ans, index) => `<button onclick="checkAnswer(${index})">${ans}</button>`).join('');
      document.getElementById("answers").innerHTML = answersHtml;
    }

    function checkAnswer(index) {
      const correct = currentQuestions[currentQuestion].correct;
      if (index === correct) {
        score += 10;
        localStorage.setItem('score', score);
      }
      currentQuestion++;
      showQuestion();
    }

    function resetGame() {
      score = 0;
      currentLevel = 1;
      maxLevel = 1;
      localStorage.setItem('score', score);
      localStorage.setItem('level', currentLevel);
      localStorage.setItem('maxLevel', maxLevel);
      document.getElementById("score").textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
      document.getElementById("level").textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${currentLevel}`;
      document.getElementById("final-level").textContent = `Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ÙˆØµÙ„Øª Ù„Ù‡: ${maxLevel}`;
      currentQuestion = 0;
      showQuestion();
    }

    function showStats() {
      document.getElementById("quiz").style.display = "none";
      document.getElementById("stats").style.display = "block";
      document.getElementById("stat-username").textContent = `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${username}`;
      document.getElementById("stat-email").textContent = `ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${email}`;
      document.getElementById("stat-phone").textContent = `ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${phone}`;
      document.getElementById("stat-score").textContent = `ğŸ”¢ Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
      document.getElementById("stat-level").textContent = `ğŸ“Š Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ: ${currentLevel}`;
      document.getElementById("stat-max").textContent = `ğŸ† Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰: ${maxLevel}`;
    }

    function goBack() {
      document.getElementById("stats").style.display = "none";
      document.getElementById("quiz").style.display = "block";
    }
  </script>
</body>
</html>
